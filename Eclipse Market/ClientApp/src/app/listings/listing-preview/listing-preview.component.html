<div class="container-xl py-4 mx-auto my-5" id="main-container">
  <div class="row">
    <div class="col-md-7 col-12 my-4 p-0 px-4">
      <div class="img-container">
        <img
          id="listing-img"
          alt="Card"
          src="https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png"
        />
      </div>
      <div class="author-card mb-3">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-3 col-6 ps-0">
              <img
                id="profile-img"
                alt="Card"
                src="https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png"
              />
            </div>
            <div
              class="col-lg-4 col-6 d-flex flex-column justify-content-center"
            >
              <span
                >{{ selectedListing?.author?.firstName }}
                {{ selectedListing?.author?.lastName }}</span
              >
              <span>{{ selectedListing?.author?.phoneNumber }}</span>
            </div>
            <div
              class="col-lg-5 col-12 d-flex align-items-center justify-content-center mb-lg-0 mb-3"
            >
              <button
                pButton
                pRipple
                type="button"
                label="Виж другите обяви на този потребител"
                class="p-button-primary"
                (click)="onLoadUserListings()"
              ></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-5 col-12 my-4 p-0 pe-md-4 px-md-0 px-4">
      <div class="info-container w-100 p-3 d-flex flex-column">
        <div class="category">
          <span>{{ selectedListing?.listingCategory }}</span>
        </div>
        <div class="title pt-1">
          <span>{{ selectedListing?.title }}</span>
        </div>
        <div class="description pt-3">
          <p>
            {{ selectedListing?.description }}
          </p>
        </div>

        <div class="footer d-flex justify-content-end mt-auto mb-2">
          <div class="price p-0 d-flex flex-column">
            <span>Цена: {{ selectedListing?.price }} лв</span>
          </div>
        </div>
        <div class="d-flex justify-content-end mt-auto">
          <span class="views">Преглеждания: {{ selectedListing?.views }}</span>
        </div>
      </div>

      <div class="message-container mt-4 p-3">
        <div class="form-floating">
          <textarea
            type="text"
            [(ngModel)]="textAreaValue"
            (ngModelChange)="valueChange(textAreaValue)"
            id="messageTextArea"
            name="message"
            maxlength="200"
            placeholder="Съобщение"
            class="form-control"
          ></textarea>
          <span id="charLeft"
            >Остават ви {{ remainingCharacters }} символа</span
          >
          <label for="message">Напиши съобщение</label>
        </div>
        <div class="send-btn mt-5">
          <button
            pButton
            pRipple
            type="button"
            label="Изпрати съобщение"
            class="p-button-success w-100"
            (click)="onSendMessage()"
          ></button>
        </div>
      </div>
    </div>
  </div>
</div>
