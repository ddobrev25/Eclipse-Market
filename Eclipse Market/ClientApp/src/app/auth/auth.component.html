<div class="bg">
    <p-toast position="top-center" key="tc" styleClass="custom-toast"></p-toast>
    <form *ngIf="registerMode" [formGroup]="registerForm" (ngSubmit)="onRegister()"
            class="p-3 form">
    <h3 class="mt-1">Регистрация</h3>
    <div class="form-floating">
    <input type="text"
            name="firstName"
            class="form-control"
            placeholder="Ime"
            formControlName="firstName">
    <label for="firstName" >Име</label>
    </div>

            <app-form-errors [control]="$any(registerForm).get('firstName')" 
            [max]="'50'" [min]="'2'"
            [controlName]="'First name'"></app-form-errors>

    <hr> 
    <div class="form-floating">      
    <input type="text"
            name="lastName"
            class="form-control"
            placeholder="Ime"
            formControlName="lastName">
    <label for="lastName" >Фамилия</label>
            <app-form-errors [control]="$any(registerForm).get('lastName')" 
            [max]="'50'" [min]="'2'"
            [controlName]="'Last name'"></app-form-errors>
    </div>

    <hr>
    <div class="form-floating">
    <input type="text"
            name="userName"
            class="form-control"
            placeholder="Ime"
            formControlName="userName">
    <label for="userName" >Потребителско име</label>
            <app-form-errors [control]="$any(registerForm).get('userName')" 
            [max]="'50'" [min]="'2'"
            [controlName]="'Username'"></app-form-errors>
    </div>

    <hr>
    <div class="form-floating">
    <input type="text"
            name="email"
            class="form-control"
            placeholder="Ime"
            formControlName="email">
    <label for="email" >Имейл адрес</label>
            <app-form-errors [control]="$any(registerForm).get('email')" [controlName]="'Email'"></app-form-errors>
    </div>

    <hr>
    
    <div class="form-floating">
    <input type="password"
            name="password"
            class="form-control"
            placeholder="Password"
            formControlName="password">
    <label for="password" >Парола</label>

            <app-form-errors [control]="$any(registerForm).get('password')" 
            [max]="'50'" [min]="'6'"
            [controlName]="'Password'"></app-form-errors>
    </div>
 
    <hr>
    <div class="form-floating">
    <input type="text"
            name="confirmPassword"
            placeholder="Ime"
            class="form-control"
            formControlName="confirmPassword">
    <label for="confirmPassword" >Потвърди парола</label>
            <span *ngIf="registerForm.errors?.['notmatched'] && registerForm.touched" class="text-danger">Password mismatch</span>
            <app-form-errors [control]="$any(registerForm).get('confirmPassword')" 
            [max]="'50'" [min]="'6'"
            [controlName]="'Password'"></app-form-errors>
        </div>

    <hr>
    <div class="form-floating">
    <input type="text"
            name="phoneNumber"
            class="form-control"
            placeholder="Ime"
            formControlName="phoneNumber">
    <label for="email" >Телефонен номер</label>
            <app-form-errors [control]="$any(registerForm).get('phoneNumber')" [controlName]="'Phone number'"></app-form-errors>
        </div>
        
            <hr>
        <div class="d-grid gap-2">
                <button type="submit" class="btn btn-light mt-3 me-3" [disabled]="!registerForm.valid">Потвърди</button>
                <button type="button" class="btn btn-dark mt-3" (click)="registerToggle()">Назад</button>
        </div>
    </form>

    <form *ngIf="!registerMode" [formGroup]="loginForm" (ngSubmit)="onLogIn()"
            class="p-3 form">
    <h3 class="mt-1">Влезте в профила си</h3>
    <h6 class="regLink">Нямате профил?, регистрирайте се <a (click)="registerToggle()">тук</a> </h6>    

    <hr>
    <div class="form-floating">
    <input type="text"
            name="userName"
            class="form-control"
            placeholder="Ime"
            formControlName="userName">
    <label for="userName" >Потребителско име</label>
            <app-form-errors [control]="$any(loginForm).get('userName')" 
            [max]="'50'" [min]="'2'"
            [controlName]="'Username'"></app-form-errors>
        </div>

    <hr>
    <div class="form-floating">
        <input type="text"
                name="password"
                placeholder="Ime"
                class="form-control"
                formControlName="password">
        <label for="password" >Парола</label>
                <app-form-errors [control]="$any(loginForm).get('password')" 
                [max]="'50'" [min]="'6'"
                [controlName]="'Password'"></app-form-errors>
    </div>

    <hr>
        <div class="d-grid gap-2">
                <button type="submit" class="btn btn-light mt-3" [disabled]="!loginForm.valid">Потвърди</button>
                <button type="button" class="btn btn-dark mt-3" routerLink="/home">Назад</button>
        </div>
    </form>
</div>